syntax = "proto3";

package trpc.elysia.backend.session;
option go_package="github.com/yzf120/elysia-backend/proto/session";

service SessionService {
  rpc CreateSession (CreateSessionRequest) returns (CreateSessionResponse) {}
  rpc GetSession (GetSessionRequest) returns (GetSessionResponse) {}
  rpc UpdateSession (UpdateSessionRequest) returns (UpdateSessionResponse) {}
  rpc DeleteSession (DeleteSessionRequest) returns (DeleteSessionResponse) {}
}

message CreateSessionRequest {
  string user_id = 1;
  string device_info = 2;
  int64 expires_in = 3; // 过期时间（秒）
}

message CreateSessionResponse {
  string session_id = 1;
  string user_id = 2;
  string device_info = 3;
  string created_at = 4;
  string expires_at = 5;
}

message GetSessionRequest {
  string session_id = 1;
}

message GetSessionResponse {
  string session_id = 1;
  string user_id = 2;
  string device_info = 3;
  string created_at = 4;
  string expires_at = 5;
  bool is_valid = 6;
}

message UpdateSessionRequest {
  string session_id = 1;
  int64 expires_in = 2; // 新的过期时间（秒）
}

message UpdateSessionResponse {
  string session_id = 1;
  string expires_at = 2;
}

message DeleteSessionRequest {
  string session_id = 1;
}

message DeleteSessionResponse {
  bool success = 1;
}